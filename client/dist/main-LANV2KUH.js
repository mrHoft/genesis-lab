import{a as le}from"./chunk-QW3USILA.js";import{b as ce}from"./chunk-N7KFISRI.js";import{a as M}from"./chunk-TVGKWIY7.js";import{a as w}from"./chunk-6VR75GNB.js";import{c as se}from"./chunk-N65F7NND.js";import{a as ee,b as re,d as ne,e as C,f as ie,g as ae}from"./chunk-2BJ5HPRD.js";import{k as te,l as oe}from"./chunk-E4YH2Q2X.js";import{$a as a,Ca as c,L as v,P as N,Q as l,Ra as Q,Sa as q,V as U,Va as h,W as $,Wa as b,Xa as k,Ya as m,Za as d,_a as p,ab as i,bb as _,da as V,db as B,ea as O,eb as J,gb as z,hb as x,ib as Z,jb as K,kb as W,l as T,lb as X,mb as y,ob as s,pb as E,qb as u,ra as S,tb as Y,ua as n,w as H}from"./chunk-KQCILP4R.js";var R=class e{galleryService=l(w);resolve(o){let t=o.paramMap.get("id");return t?this.galleryService.getOne(Number(t)).pipe(H(r=>(console.error("Error loading generator data:",r),T(null)))):T(null)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};var D=class e{galleryService=l(w);resolve(){return this.galleryService.get(1)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};var P=class e{constructor(o,t){this.userService=o;this.router=t}canActivate(){return this.userService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||e)(N(M),N(C))};static \u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})};var me=[{path:"",redirectTo:"/gallery",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-YNADTYDH.js").then(e=>e.PageLogin)},{path:"about",loadComponent:()=>import("./chunk-SYL6O2WH.js").then(e=>e.PageAbout)},{path:"profile",loadComponent:()=>import("./chunk-QP6RUQIH.js").then(e=>e.PageProfile),canActivate:[P]},{path:"savings",loadComponent:()=>import("./chunk-KZYBFTWD.js").then(e=>e.PageUserSavings),canActivate:[P]},{path:"gallery",loadComponent:()=>import("./chunk-2ODYKLPM.js").then(e=>e.PageGallery),resolve:{galleryFirstPage:D}},{path:"generator",loadComponent:()=>import("./chunk-CR5TWP6T.js").then(e=>e.PageGenerator)},{path:"generator/:id",loadComponent:()=>import("./chunk-CR5TWP6T.js").then(e=>e.PageGenerator),resolve:{fractalRecord:R}},{path:"**",loadComponent:()=>import("./chunk-727I6P3R.js").then(e=>e.PageNotFound)}];var pe={providers:[V(),Y(),ae(me),te(oe())]};var de=["menuButton"],ue=(e,o)=>o.id;function ge(e,o){if(e&1){let t=B();a(0,"li",6),z("click",function(){U(t);let f=x().$implicit;return $(f.action())}),_(1,"img",7),s(2),i()}if(e&2){let t=x().$implicit;n(),J("src",t.icon,S)("alt",t.id),n(),u(" ",t.title," ")}}function fe(e,o){if(e&1&&Q(0,ge,3,3,"li",5),e&2){let t=o.$implicit;q(t.visible()?0:-1)}}var I=class e{menuOpen=O(!1);router=l(C);userService=l(M);menuButtonRef;clickListener=o=>{this.menuButtonRef.nativeElement.contains(o.target)||this.menuOpen.set(!1)};ngOnInit(){document.addEventListener("click",this.clickListener)}ngOnDestroy(){document.removeEventListener("click",this.clickListener)}handleMenu=()=>{this.menuOpen.update(o=>!o)};handleLogout=()=>{this.userService.logout(),this.router.navigate(["/login"])};title=()=>this.userService.user()?.name;menu=[{id:"login",title:"Log in",icon:"./assets/login.svg",action:()=>{this.router.navigate(["/login"])},visible:()=>!this.userService.user()?.login},{id:"logout",title:"Log out",icon:"./assets/logout.svg",action:this.handleLogout,visible:()=>!!this.userService.user()?.login},{id:"profile",title:"Profile",icon:"./assets/user.svg",action:()=>{this.router.navigate(["/profile"])},visible:()=>!!this.userService.user()},{id:"savings",title:"Savings",icon:"./assets/gallery.svg",action:()=>{this.router.navigate(["/savings"])},visible:()=>!!this.userService.user()},{id:"404",title:"Page 404",icon:"./assets/about.svg",action:()=>{this.router.navigate([`/${Math.random().toString(36).slice(2,8)}`])},visible:()=>!0}];static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-menu"]],viewQuery:function(t,r){if(t&1&&Z(de,7),t&2){let f;K(f=W())&&(r.menuButtonRef=f.first)}},decls:8,vars:3,consts:[["menuButton",""],[1,"user",3,"click"],["src","./assets/user.svg","alt","avatar"],[1,"menu"],[1,"menu__title"],[1,"menu__item"],[1,"menu__item",3,"click"],[3,"src","alt"]],template:function(t,r){if(t&1){let f=B();a(0,"div",1,0),z("click",function(){return U(f),$(r.handleMenu())}),_(2,"img",2),i(),a(3,"ul",3)(4,"li",4),s(5),i(),h(6,fe,1,1,null,null,ue),i()}t&2&&(n(3),y("open",r.menuOpen()),n(2),E(r.title()),n(),b(r.menu))},styles:[".user[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;background-color:var(--color20);display:flex;justify-content:center;align-items:center;transition:background-color .25s linear;cursor:pointer}.user[_ngcontent-%COMP%]:hover{background-color:var(--color-accent50)}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;filter:invert(var(--color-scheme))}.menu[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;position:fixed;right:0;top:3rem;background-color:var(--color10);transform:translate(100%);z-index:100}.menu.open[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide .25s ease-out forwards}@keyframes _ngcontent-%COMP%_slide{0%{transform:translate(100%)}to{transform:translate(0)}}.menu__title[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1.5rem}.menu__item[_ngcontent-%COMP%]{padding:.5rem 1.5rem;display:flex;align-items:center;column-gap:.5rem;transition:background-color .25s linear;cursor:pointer}.menu__item[_ngcontent-%COMP%]:hover{background-color:var(--color-accent50)}.menu__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;filter:invert(var(--color-scheme))}"]})};var ve=(e,o)=>o.id;function he(e,o){if(e&1&&(m(0,"a",4),p(1,"img",5),m(2,"span"),s(3),d()()),e&2){let t=o.$implicit,r=x();y("active",t.link==r.currentRoute),k("routerLink",`/${t.link}`),n(),k("src",t.icon,S)("alt",t.id),n(2),E(t.title)}}var F=class e{router=l(C);routerSubscription;currentRoute;tabs=[{id:"gallery",title:"Gallery",link:"gallery",icon:"./assets/gallery.svg"},{id:"generator",title:"Generator",link:"generator",icon:"./assets/create.svg"},{id:"about",title:"About",link:"about",icon:"./assets/about.svg"}];constructor(){this.currentRoute=this.router.url.split("/")[1]||"",this.routerSubscription=this.router.events.subscribe(o=>{if(o instanceof re){let t=o.urlAfterRedirects||o.url;this.currentRoute=t.split("/")[1]||""}})}ngOnDestroy(){this.routerSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"header"],[1,"title",3,"routerLink"],["src","./assets/mandelbrot.png","alt","logo",1,"logo"],[1,"tab",3,"routerLink","active"],[1,"tab",3,"routerLink"],[3,"src","alt"]],template:function(t,r){t&1&&(m(0,"header",0)(1,"a",1),p(2,"img",2),m(3,"h3"),s(4,"Genesis lab"),d()(),m(5,"div"),h(6,he,4,6,"a",3,ve),d(),m(8,"div"),p(9,"app-menu"),d()()),t&2&&(n(),k("routerLink","/"),n(5),b(r.tabs))},dependencies:[ie,I],styles:['.header[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;box-sizing:border-box;height:3rem;width:100%;overflow:hidden}.title[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:.5rem;color:var(--color100)}.title[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:2rem;height:2rem;filter:invert(var(--color-scheme))}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.tab[_ngcontent-%COMP%]{color:var(--color100);margin:0 .25rem;padding:0 .25rem;display:inline-flex;align-items:center;column-gap:.25rem}.tab[_ngcontent-%COMP%]:hover{color:var(--color-accent60)}.tab[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1rem;height:1rem;filter:invert(var(--color-scheme))}.tab.active[_ngcontent-%COMP%]{position:relative}.tab.active[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;bottom:0;width:100%;height:var(--border-thickness);background-color:var(--color-accent80)}']})};var L=class e{version;constructor(){this.version=le.version}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-footer"]],decls:10,vars:1,consts:[[1,"footer"],["href","https://github.com/mrHoft","target","_blank",2,"height","2rem"],["src","./assets/logo-github.svg","alt","logo",1,"logo","github"],["href","https://rs.school/courses/angular","target","_blank",2,"height","2rem"],["src","./assets/logo-rss.svg","alt","logo",1,"logo"]],template:function(t,r){t&1&&(a(0,"footer",0)(1,"a",1),_(2,"img",2),i(),a(3,"div")(4,"span"),s(5,"2025"),i(),a(6,"span"),s(7),i()(),a(8,"a",3),_(9,"img",4),i()()),t&2&&(n(7),u(" v.",r.version))},styles:[".footer[_ngcontent-%COMP%]{height:2.5rem;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;box-sizing:border-box;color:var(--color100)}.logo[_ngcontent-%COMP%]{box-sizing:border-box;width:2rem;height:2rem;border-radius:50%;border:var(--border-thickness) solid var(--color30);transition:border-color .25s linear,background-color .25s linear}.logo[_ngcontent-%COMP%]:hover{border-color:var(--color-accent60);background-color:var(--color-accent50a)}.github[_ngcontent-%COMP%]{filter:invert(var(--color-scheme))}"]})};var be=(e,o)=>o.id;function _e(e,o){if(e&1&&(a(0,"div",2)(1,"div",3),s(2),i(),s(3),i()),e&2){let t=o.$implicit;y("hidden",t.hidden),n(),X("background-color",t.mode==="error"?"gray":null),n(),u(" ",t.mode==="error"?"\u274C":"\u2714"," "),n(),u(" ",t.content," ")}}var A=class e{messageService=l(se);displayedMessages=this.messageService.messages;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-message"]],decls:3,vars:0,consts:[[1,"messages"],[1,"messages__item",3,"hidden"],[1,"messages__item"],[1,"messages__item_icon"]],template:function(t,r){t&1&&(a(0,"div",0),h(1,_e,4,6,"div",1,be),i()),t&2&&(n(),b(r.displayedMessages()))},styles:[".messages[_ngcontent-%COMP%]{position:fixed;z-index:1000;top:3.5rem;right:0;bottom:3.5rem;left:0;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end;row-gap:4px;overflow:hidden;pointer-events:none}.messages__item[_ngcontent-%COMP%]{position:relative;min-width:10rem;max-width:400px;padding:1rem;background-color:var(--color20);box-shadow:1px 1px 4px #0008;line-height:1.2;display:flex;column-gap:.5rem;animation:_ngcontent-%COMP%_fadein .5s forwards}.messages__item.hidden[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeout .5s forwards}.messages__item_icon[_ngcontent-%COMP%]{display:flex;width:20px;height:20px;flex-shrink:0;align-items:center;justify-content:center;border-radius:50%;color:#fff;background-color:green;font-size:12px}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeout{to{opacity:0;transform:translate(100%)}}"]})};var G=class e{title=O("genesis-lab");userService;constructor(){this.userService=new M,this.userService.requestUser()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=c({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"main"],[1,"backdrop"]],template:function(t,r){t&1&&(p(0,"app-header"),m(1,"main",0),p(2,"router-outlet"),d(),p(3,"app-footer")(4,"div",1)(5,"app-message")(6,"app-modal"))},dependencies:[ne,F,L,A,ce],styles:[".main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin:0}"]})};ee(G,pe).catch(e=>console.error(e));
