var G=["mandelbrot","julia","burningShip","newton"],M={mandelbrot:{name:"Mandelbrot",fn:(a,n,t=2,A=2)=>{let r=0,e=0,o=0;for(;o<50;){let c=r*r,b=e*e;if(c+b>4)break;let m=Math.pow(r,t)-Math.pow(e,A)+a,l=2*r*e+n;r=m,e=l,o++}return o},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADpElEQVR4AbSWLzRsURTG97IWgUAgEAhUikJQKIKkKBSBoCuyogsEhaJIgkIRKIqpM2EmzISZMBNmwkzw5reXfdeec//Ne2veW+9z9tnft8/+7jn3HsbGx8d/sjA5OfnzPzEmGf/6xjLY0VCpBvKaw4f4F0uJBlg4XIycR8gz9zwxuTzEDISFzEHWQvBgbm5OpqamhNgjqzZmwMS2gM2TRq+ZmJiQXq8ns7OzMjMzo3J4AkZAHGLAgIlsDMV+7jU0hyOHAUafgwPkGT0iA0ba6EU+hgeWs0bT09OytrYmb29vMj8/L/1PV4zzeh+zRmSASUiS8wh5GpCjGbqnpycGNUEeoAHESvZ/+HjAQJ9L/e+LWJCXbXt7W5+WJ97a2opqLy8v5e7uTshhbnFxMdqNSPQbqAEWB7+52ABHUwNzUCwW5fPzU97f3+X29jaqu7i4kM3NTXl4eBA0BwcH0ZdhIuqJ1QBBEhDxpDQ2nhzx+vq6rKysEObi8fExVaMGbFFUxIDGYHV1VV8oXjIAx7bytvOE1OSBI7m/v9djoN70xGqABBNA7J+4VqvpNi4vL+tbznlj4Pr6GulQ2NnZkdPT00StGrDGKKw5OcCTkn9+fha2kvPGBLlRQA3YQjSnKU/IdvP27u7uGh2NmIkmQwadTidROcb12Wg0BFSrVSmXy7rl39/f+j2fn58nFv5NkgsqTc8fJHp/s9ULCwuytLSkbzdFfOdXV1dptUPneZg08cARdLtd/YXCdrVaLalUKvLy8hKr3dvbi+XyEhxrkkYNcAxGYoKYHOBomNOUC4XbjS+D3CigBliIZoDYTBDzxnPhlEolYStpzg6dnZ1BD4XX11e5ublJ1KoBa4yCGLTbbQGFQkFoyJEAOObszOHhISW54Go+OjoSHox6KyBWA5YIRwSYoNA4csRfX1/6tRDngaNL06gBFgVpIjhMGJgDjmZjY0N/652cnETlXL0fHx/CDqHhAkMPTGSxGrBk1mgFaDDCzvDHB+8E4IaEA2z58fGx/pbkuPiaqIELMWDANwmFzEOeRcnRBH5/f59BuD/IAzSAWMn+Dx9HBixpY1+X+B8eGMnixLygfCU0Z0cwZZzX+5i6yAATI20klwav8Y34OuB8ztYgb7GNAwYsyYgYEKcBHsDTkF9kGGg2m6T0ViVAA4hDxAyEQuYgLPRzeFCv1/XuIPbw2jCOGUBAMaMHOQ/PWex5YstnjYkGKMhbAD4EdSHy5n8AAAD///hk4J4AAAAGSURBVAMAG7ohlmxA46QAAAAASUVORK5CYII="},julia:{name:"Julia Fractals",fn:(a,n,t=2,A=2)=>{let r=a,e=n,o=0,c=-.7,b=.27;for(;o<50;){let m=r*r,l=e*e;if(m+l>4)break;let i=Math.pow(r,t)-Math.pow(e,A)+c,u=2*r*e+b;r=i,e=u,o++}return o},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADoUlEQVR4AcSVITD8URDHd26GQCBICjMEzCAQFIpAICuKLBMouqwSJEUwiiJQFIGAwAwC4S7chbtwF/zvs3Pf37zfcz/352aY8X27+919u/v2vd/JmdmH0NHR8fGboC4N1KVZvbDL31yomaMgCvIvkPvL4hzYJ4DSDjhEFlrl/XYDzQp9VSSOj2P/q4EwSZwg9EmPY0I7jslsQIHIMAE6XIhSqeRfEVzsx24GxTZtQM54IzwQj97b2+tmoVCwzs5Ob8SJxkIMaJgpAZ9qAAKkohpGzHd3dxt4fHxsRJh1dXV5E/DEAznRgWzJpIFmTgWFPnQKDA0N2cvLi0Jc9vX12f7+vr29vXlzmgh7APuQwDfUF28gJOpc8gcfQ87Ly0s7PDyU6XJqasoWFxddp7menh5vhGuamZlJGgtzegO+I1oURNdycSKAj2IHBwe2trYmt+3t7SU6yv39vdEEk1leXoayk5MTvyZyQHz6JcQh8LDGx8eNEwwPD3sy7hnUajUDExMT5MnE7e2tXV1d2cDAgMdMT08b10duDpdMQEWJQqco+tnZmW8gCcV4dJyMU3EN2MS1wsjISBLCvouLC78Sb4CC8qIz5jDx5uamu4+OjlyynJ+fI3zsJHMjY7m5ubHBwcGUd3t722ZnZ80bwENhflD6+/t91Nzx0tISLpufn3eZtczNzWW5nGfcCwsLRk4eI/L9/d2YpDdAcUa+sbFh3BmO6+trOz099QTtLhyA/Bzw9fXVKJ7P5/0N+SOkQ0a+u7vbbi3jENVq1e7u7lK5OGSlUjF85XLZfTziHAsPCobRIIWtrS2pmfL5+dm4KkbLI2Vqk5OTNjY25nc8Ojrqe3nEFKcehKRfAQbfK6NZX1+3nZ0dYuzh4SG5NyeCRafQ4+KE5OGUgLf09PRkjB29WCz6yIkBSpU0AEFSXjrAPj4+9gRcEfbq6irCwTeMwgQ4NZ8WkyQ5eTitgA0P2BPCG4CQE6mu1blOxDshdmVlxXjV6JoAOg+MoujkiQEfw9+ASG2gYwEfSQEF+EXjC+G68Anw7FEO8djSY4nPJ4ASOrEBHFKgAOA+mRJ+EBbHFtgnPZTwAM4bQBGBLsAB2UhsQCMU5pWjw+EH6AA9RswnDRAYO+EAvIANsJkE//vRxUnHDgEPQg491QAEQQC9GfBlIY4P42Kf7E8NyKHNsltJxYey1R78mQ3gBGHCr3Rif4LUZ/iTBO3u8QlwsnYTZe1vxf8DAAD//wp+tRYAAAAGSURBVAMAn09oAfKkgVgAAAAASUVORK5CYII="},burningShip:{name:"Burning Ship",fn:(a,n,t=2,A=2)=>{let r=0,e=0,o=0;for(;o<50;){let c=r*r,b=e*e;if(c+b>4)break;let m=Math.pow(Math.abs(r),t)-Math.pow(Math.abs(e),A)+a,l=Math.abs(2*r*e)+n;r=m,e=l,o++}return o},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADfUlEQVR4AaSWrU8DQRDFJ01AgAABBgEGAwkIMBgMBgQKDAIsCDwGDQISMCBAYECA549AoDAgQLSiFa1oRStaAf1teJe9614/rk1eZ3Z2Pt7O7u1dbmRk5HcYjI2N/faDtBo5y/BrJzOh33D5I/2YgQgQDPwEWfR2xwwQ2xcBigIChgE5ADnm5uZsfX3dehJQAEFZQQ6geHQ68PHx0Z0AjgrKKpM5GI+Pj7t0o6Oj6QRwdF5D/CVzMKbo0tKStVotm5qaChPAMa0uc92guJBPpVKxh4cHOzs7c4ew0Wh0EiBQSSSxAfaN9k1OTmqqQ+IHFhYWDF9WjD/Fcd7a2rLz83P3GM/OzsYJEIiTwBgwllxZWbHDw0M7Pj52SbADip2enhrF0FlpPp+3YrFo39/fpIiArVAo2M/PT5yAPEgINEaSdHp62q2KhDxGy8vLxspICE5OTkxFFxcXCevA/v6+UZz2cw6ix1AFJf1IbGB1ddXt3d3dnR0dHVmpVHJutNkpPf4uLi7s8/PTHcBms2kgIkAsRZBJUGBtbc0mJiZsfn7eGONDMmS/eHp6ch2Tf9QBCgNNhCTFbm9vjX0Ozfey7ezsmNrOyuUf64CMvoTY+/u7PT4++uaBdc4NK1ZxdJI4AhRhEALtnpmZsbRDFYpJ2ra3t6PVJ+f4Hkja3BhSnHrk8/Ozs2X947BqxeTw9RgBigEeuevra/f88ljt7e0RlwncGew9wWo/uhBtAYUx0nL0g4MDhkOD+4EVg1CyWAdU/OrqKuSbyVar1brG5SgKOGg859z3u7u7XYMGmUxbuXJEW4Aje4XksuGa3djYcHe+nLPIt7e3WBj5fUOuXq8bKJfLTlarVau2wR3/9fVlr6+v7vbj7QYprmM+pZDcjpubm3Zzc+Pn7NDpaofx35CDUQiQ4tQi6Qx7CSkeKV4m6IA32v39vfu+4z3/nzcm+PSKGbyB2wIIeLZIxQ4gARmBMXaIAchB7OXlxdi2KEEPhRyOAH4MkGlgXsBHZJDYRYTusD18D+AH2D5kCG4LNEEioHGaxEfABxJANjpyeXlpEKE45PALIeqAP6lESN8e0n0fkaAgJDgj6GyZ5pRDcUECckLiKDAOwZ+nkEBhEIqRzREggQzdJH5CyI+5kB2bP+frjgAOg4IkIBmHLQT5MScdGRFITjDZD3rF+TlCvn8AAAD///QfzssAAAAGSURBVAMA+7Y9aA9X2b4AAAAASUVORK5CYII="},newton:{name:"Newton (Root-Finding)",fn:(a,n,t=3,A=1)=>{let e=a,o=n,c=0;for(;c<50;){let b=e*e,m=o*o,l=b+m;if(l<1e-6)break;let i=Math.pow(l,t/2)-1,u=t*Math.pow(l,(t-2)/2),g=e-i*(e/u)+A*.1*Math.sin(o),f=o-i*(o/u)+A*.1*Math.cos(e);if(Math.abs(g-e)<1e-6&&Math.abs(f-o)<1e-6)break;e=g,o=f,c++}return c},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADcUlEQVR4AdTWPS9tQRQG4MlNKCgoKCiQoFFQUGv8Yz9BpdBQUIgEBQUFBQXFveeZ5D0ZZ2/HoZGbeM9as2Z9vLPmw/5TSvn7m0BgUP/3/v5/Ag8PDwX08OXlhfgWJu7A3d1deXp6KpeXlxXX19flegBFgY4IeXJyUt7e3iYiMhGBFFdgamqqwPT0dAlmZ2cLZLy8vFweHx8LImLGMfmSwOnpaV25oqCIYjMzMyVgB2MyWF1drbV1rio9P2MJHB0d1RCJFZ2fny9zc3MV9FHwgxCIfH9/H56TmrD56SVwfn5eDg8Pa6slVFxhBem60OQYquzmFR4aB4ox9G1HL4HX19dBWKkrlTAkqvGHPwjAaHgvAS2zWrByJEYDx42t9OzsrLZdrvgikG2NrUNA+00q/JOVu6biV1ZWiHJxcVFaEru7u9Wenw6BOIdAHCeR3gCrdBaAvrS0VG5ubkq2lS2LlLNDgAMSP2l7ikgcyAceq9g2Njaill4CEgmyiqHnJ4oXzz23Si7Is0HGct3f3w+3os3bISAoSJKMW2nOqpAFhSPpQWKen5+HBNhsF9khgK39NzkKRUHhFFDUWJzn1zhzkfLIadyunr1DgNHp5wwKBsajMCcGEEEA+LFB9NY3tg8EcoVaAhzHQQHQAe+GsxACkeblIEfxgcDm5maxV5I5WJwFBhm3kh4grtUeohRPLFt7s25vb2vYBwIsroh9QiRJ2JMoOqml7HRAXBfEWYA5OrCb5wcHBwdE/zU04wGxp5IAG0RX3BjYkpxcXFwsV1dX9SlWHBn5kOAvLwmdDli9VpK6oJACgSA2sg8IiF9fX6+vn48ZrUcq/sfHx1G7HTAjiSK+bKyEDuYi6UiRgTg6maJy+L/QEkj7+XY6wChYIN1K8oqNK84XFCd1AbQ+X0bsvrDIoJeASVvgRCMjif9q9tOqgU+L1oYELCwslBxqvq75zs4OdYhPCfBQ3CrIvb29ekWdC8Va8FWQBLriW1tb9WOVzVlwzektxhLgqDgSdKuR2JNrW9qOIMRHcS1fW1szrPDuZ0urofn5kgDfkEDEA4KIs2GsI3wU0F6rHr1uLRm+LSYiIEBSRLa3t4suSKrY/v5+Ubg95e69/eYvdhwmJpAkiDigxlrriQV7zAZ8+vbb3Ci+TaBNoAtWDragnYv+lfwHAAD//+wDVg0AAAAGSURBVAMAbQiZP2fYCWYAAAAASUVORK5CYII="},strangeAttractor:{name:"Strange Attractors (Orbit)",fn:(a,n,t=1.4,A=.3)=>{let r=.1,e=.1,o=0;for(let c=0;c<50;c++){let b=Math.sin(t*e)-Math.cos(A*r),m=Math.sin(r)-Math.cos(e);r=b,e=m,c>100&&Math.sqrt((r-a)*(r-a)+(e-n)*(e-n))<.1&&o++}return o},icon:""}};function Q(a,n,t){let A=0,r=0,e=0,o=Math.floor(a*6),c=a*6-o,b=t*(1-n),m=t*(1-c*n),l=t*(1-(1-c)*n);switch(o%6){case 0:{A=t,r=l,e=b;break}case 1:{A=m,r=t,e=b;break}case 2:{A=b,r=t,e=l;break}case 3:{A=b,r=m,e=t;break}case 4:{A=l,r=b,e=t;break}case 5:{A=t,r=b,e=m;break}}return{r:Math.round(A*255),g:Math.round(r*255),b:Math.round(e*255)}}var E=["ocean","fire","forest","grayscale","rainbow","pastel"],z={rainbow:()=>{let a=[];for(let n=0;n<50;n++){let t=n*360/50%360,A=Q(t/360,1,1);a.push(A)}return a},fire:()=>{let a=[],n=255/50/6;for(let t=0;t<50;t++){let A=Math.min(255,t*n*8),r=Math.min(255,t*n*4),e=Math.min(255,t*n*2);a.push({r:A,g:r,b:e})}return a},ocean:()=>{let a=[],n=255/50/6;for(let t=0;t<50;t++){let A=Math.min(255,t*n*2),r=Math.min(255,t*n*4),e=Math.min(255,t*n*8);a.push({r:A,g:r,b:e})}return a},forest:()=>{let a=[],n=255/50/6;for(let t=0;t<50;t++){let A=Math.min(255,t*n*3),r=Math.min(255,t*n*6),e=Math.min(255,t*n*2);a.push({r:A,g:r,b:e})}return a},pastel:()=>{let a=[];for(let n=0;n<50;n++){let t=128+Math.floor(127*Math.sin(n*.1)),A=128+Math.floor(127*Math.sin(n*.1+2)),r=128+Math.floor(127*Math.sin(n*.1+4));a.push({r:t,g:A,b:r})}return a},grayscale:()=>{let a=[],n=255/50/6;for(let t=0;t<50;t++){let A=Math.min(255,t*n*6),r=Math.min(255,t*n*6),e=Math.min(255,t*n*6);a.push({r:A,g:r,b:e})}return a}};var x=class{max=50;fillIndex=Math.floor(50/4);palette;constructor(){this.palette=E.reduce((n,t)=>(n[t]=z[t](),n),{})}render(n,t=512,A=512){let{fractal:r,scale:e,p1:o,p2:c,x:b,y:m,palette:l,invert:i,fill:u}=n,g=new ImageData(t,A),f=this.palette[l],D=M[r].fn;for(let p=0;p<A;p++)for(let h=0;h<t;h++){let S=b/1e4+(h-t/2)*e/1e4/t,d=m/1e4+(p-A/2)*e/1e4/A,I=D(S,d,o,c),y=i?50-I:I,w=this.getColor(y,f,u),B=(p*t+h)*4;g.data[B]=w.r,g.data[B+1]=w.g,g.data[B+2]=w.b,g.data[B+3]=255}return g}getColor(n,t,A){if(n>=this.max)return A?t[this.fillIndex]:t[0];let r=n%t.length;return t[r]}};export{G as a,M as b,E as c,x as d};
