import{a as de}from"./chunk-QW3USILA.js";import{b as ge}from"./chunk-OYVPCDVE.js";import{a as k}from"./chunk-6TD3QLD4.js";import"./chunk-BYXBJQAS.js";import{a as D}from"./chunk-X4YI4MQ5.js";import{b as me,d as pe}from"./chunk-NZYCSRIY.js";import{a as ne,b as ae,d as se,e as M,f as ce,g as le}from"./chunk-NF2NXLZV.js";import{k as re,l as ie}from"./chunk-3UOA546C.js";import{$a as a,Ca as s,L as h,P as U,Q as l,Ra as J,Sa as K,V as H,Va as b,W as V,Wa as _,Xa as w,Ya as m,Za as u,_a as p,ab as i,bb as y,da as Z,db as B,ea as v,eb as T,gb as x,hb as P,ib as W,jb as X,kb as Y,l as $,nb as ee,ob as C,qb as c,ra as S,rb as R,sb as f,ua as r,vb as te,w as q,xb as oe}from"./chunk-UNKFYFRK.js";var I=class t{galleryService=l(D);resolve(o){let e=o.paramMap.get("id");return e?this.galleryService.getOne(Number(e)).pipe(q(n=>(console.error("Error loading generator data:",n),$(null)))):$(null)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};var A=class t{galleryService=l(D);resolve(){return this.galleryService.get(1,20)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};var O=class t{constructor(o,e){this.userService=o;this.router=e}canActivate(){return this.userService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||t)(U(k),U(M))};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};var ue=[{path:"",redirectTo:"/gallery",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-YBPYSOF7.js").then(t=>t.PageLogin)},{path:"about",loadComponent:()=>import("./chunk-RNE55PEH.js").then(t=>t.PageAbout)},{path:"profile",loadComponent:()=>import("./chunk-WZPHJYZC.js").then(t=>t.PageProfile),canActivate:[O]},{path:"savings",loadComponent:()=>import("./chunk-PENXK3L3.js").then(t=>t.PageUserSavings),canActivate:[O]},{path:"gallery",loadComponent:()=>import("./chunk-IJVRWOCK.js").then(t=>t.PageGallery),resolve:{galleryFirstPage:A}},{path:"generator",loadComponent:()=>import("./chunk-RVETELDY.js").then(t=>t.PageGenerator)},{path:"generator/:id",loadComponent:()=>import("./chunk-RVETELDY.js").then(t=>t.PageGenerator),resolve:{fractalRecord:I}},{path:"**",loadComponent:()=>import("./chunk-FSB47V3O.js").then(t=>t.PageNotFound)}];var fe={providers:[Z(),te(),le(ue),re(ie())]};var ve=["menuButton"],be=(t,o)=>o.id;function _e(t,o){if(t&1){let e=B();a(0,"li",6),x("click",function(){H(e);let g=P().$implicit;return V(g.action())}),y(1,"img",7),c(2),i()}if(t&2){let e=P().$implicit;r(),T("src",e.icon,S)("alt",e.id),r(),f(" ",e.title," ")}}function ye(t,o){if(t&1&&J(0,_e,3,3,"li",5),t&2){let e=o.$implicit;K(e.visible()?0:-1)}}var L=class t{menuOpen=v(!1);router=l(M);userService=l(k);menuButtonRef;clickListener=o=>{this.menuButtonRef.nativeElement.contains(o.target)||this.menuOpen.set(!1)};ngOnInit(){document.addEventListener("click",this.clickListener)}ngOnDestroy(){document.removeEventListener("click",this.clickListener)}handleMenu=()=>{this.menuOpen.update(o=>!o)};handleLogout=()=>{this.userService.logout(),this.router.navigate(["/login"])};title=()=>this.userService.user()?.name;menu=[{id:"login",title:"Log in",icon:"./assets/login.svg",action:()=>{this.router.navigate(["/login"])},visible:()=>!this.userService.isAuthenticated()},{id:"logout",title:"Log out",icon:"./assets/logout.svg",action:this.handleLogout,visible:()=>this.userService.isAuthenticated()},{id:"profile",title:"Profile",icon:"./assets/user.svg",action:()=>{this.router.navigate(["/profile"])},visible:()=>this.userService.isAuthenticated()},{id:"savings",title:"Savings",icon:"./assets/gallery.svg",action:()=>{this.router.navigate(["/savings"])},visible:()=>this.userService.isAuthenticated()},{id:"404",title:"Page 404",icon:"./assets/about.svg",action:()=>{this.router.navigate([`/${Math.random().toString(36).slice(2,8)}`])},visible:()=>!0}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-menu"]],viewQuery:function(e,n){if(e&1&&W(ve,7),e&2){let g;X(g=Y())&&(n.menuButtonRef=g.first)}},decls:8,vars:3,consts:[["menuButton",""],[1,"user",3,"click"],["src","./assets/user.svg","alt","avatar"],[1,"menu"],[1,"menu__title"],[1,"menu__item"],[1,"menu__item",3,"click"],[3,"src","alt"]],template:function(e,n){if(e&1){let g=B();a(0,"div",1,0),x("click",function(){return H(g),V(n.handleMenu())}),y(2,"img",2),i(),a(3,"ul",3)(4,"li",4),c(5),i(),b(6,ye,1,1,null,null,be),i()}e&2&&(r(3),C("open",n.menuOpen()),r(2),R(n.title()),r(),_(n.menu))},styles:[".user[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%;background-color:var(--color20);display:flex;justify-content:center;align-items:center;transition:background-color .25s linear;cursor:pointer}.user[_ngcontent-%COMP%]:hover{background-color:var(--color-accent50)}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.75rem;height:1.75rem;filter:invert(var(--color-scheme))}.menu[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;position:fixed;right:0;top:3rem;background-color:var(--color10);transform:translate(100%);z-index:100}.menu.open[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide .25s ease-out forwards}@keyframes _ngcontent-%COMP%_slide{0%{transform:translate(100%)}to{transform:translate(0)}}.menu__title[_ngcontent-%COMP%]{text-align:center;padding:.5rem 1.5rem}.menu__item[_ngcontent-%COMP%]{padding:.5rem 1.5rem;display:flex;align-items:center;column-gap:.5rem;transition:background-color .25s linear;cursor:pointer}.menu__item[_ngcontent-%COMP%]:hover{background-color:var(--color-accent50)}.menu__item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;filter:invert(var(--color-scheme))}"]})};var N=class t{storage=new me;theme=v("dark");checked=oe(()=>this.theme()==="dark");constructor(){let o=this.storage.get("theme");o?(document.documentElement.className=`theme-${o}`,this.theme.set(o)):this.theme.set(this.getSystemColorScheme())}getSystemColorScheme(){return typeof globalThis.window=="object"&&globalThis.window.matchMedia&&globalThis.window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}handleChange=o=>{let n=o.target.checked?"dark":"light";this.theme.set(n),this.storage.set("theme",n),document.documentElement.className=`theme-${n}`};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-theme"]],decls:1,vars:1,consts:[["type","checkbox",1,"theme",3,"change","checked"]],template:function(e,n){e&1&&(a(0,"input",0),x("change",function(Q){return n.handleChange(Q)}),i()),e&2&&T("checked",n.checked())},styles:['[_nghost-%COMP%]{position:relative;display:inline-block;appearance:none;box-sizing:content-box;width:2.25em;height:1.25em;border-radius:1em;background-color:var(--color50)}[_nghost-%COMP%]:before{content:"";position:absolute;width:1em;height:1em;top:.125em;left:.125em;background-repeat:no-repeat;background-image:url(/assets/dark.svg);background-size:1em;z-index:0}[_nghost-%COMP%]:after{content:"";position:absolute;width:1em;height:1em;top:.125em;right:.125em;background-repeat:no-repeat;background-image:url(/assets/light.svg);background-size:1em;z-index:0}.theme[_ngcontent-%COMP%]{position:absolute;margin:0;outline:none;appearance:none;font-size:1em;width:2.2em;height:1.1em;cursor:pointer;z-index:1}.theme[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:1.25em;height:1.25em;border-radius:1em;background-color:var(--color30);transition:transform .2s linear}.theme[_ngcontent-%COMP%]:checked:after{transform:translate(1.125em)}']})};var Ce=(t,o)=>o.id;function Me(t,o){if(t&1&&(m(0,"a",5),p(1,"img",6),m(2,"span"),c(3),u()()),t&2){let e=o.$implicit,n=P();C("active",e.link==n.currentRoute),w("routerLink",`/${e.link}`),r(),w("src",e.icon,S)("alt",e.id),r(2),R(e.title)}}var j=class t{router=l(M);routerSubscription;currentRoute;tabs=[{id:"gallery",title:"Gallery",link:"gallery",icon:"./assets/gallery.svg"},{id:"generator",title:"Generator",link:"generator",icon:"./assets/create.svg"},{id:"about",title:"About",link:"about",icon:"./assets/about.svg"}];constructor(){this.currentRoute=this.router.url.split("/")[1]||"",this.routerSubscription=this.router.events.subscribe(o=>{if(o instanceof ae){let e=o.urlAfterRedirects||o.url;this.currentRoute=e.split("/")[1]||""}})}ngOnDestroy(){this.routerSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-header"]],decls:11,vars:1,consts:[[1,"header"],[1,"title",3,"routerLink"],["src","./assets/mandelbrot.png","alt","logo",1,"logo"],[1,"tab",3,"routerLink","active"],[1,"right"],[1,"tab",3,"routerLink"],[3,"src","alt"]],template:function(e,n){e&1&&(m(0,"header",0)(1,"a",1),p(2,"img",2),m(3,"h3"),c(4,"Genesis lab"),u()(),m(5,"div"),b(6,Me,4,6,"a",3,Ce),u(),m(8,"div",4),p(9,"app-theme")(10,"app-menu"),u()()),e&2&&(r(),w("routerLink","/"),r(5),_(n.tabs))},dependencies:[ce,L,N],styles:['.header[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;box-sizing:border-box;height:3rem;width:100%;overflow:hidden}.title[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:.5rem;color:var(--color100)}.title[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:2rem;height:2rem;filter:invert(var(--color-scheme))}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.tab[_ngcontent-%COMP%]{color:var(--color100);margin:0 .25rem;padding:0 .25rem;display:inline-flex;align-items:center;column-gap:.25rem}.tab[_ngcontent-%COMP%]:hover{color:var(--color-accent60)}.tab[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1rem;height:1rem;filter:invert(var(--color-scheme))}.tab.active[_ngcontent-%COMP%]{position:relative}.tab.active[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:0;bottom:0;width:100%;height:var(--border-thickness);background-color:var(--color-accent80)}.right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}']})};var F=class t{version;constructor(){this.version=de.version}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-footer"]],decls:10,vars:1,consts:[[1,"footer"],["href","https://github.com/mrHoft","target","_blank",2,"height","2rem"],["src","./assets/logo-github.svg","alt","logo",1,"logo","github"],["href","https://rs.school/courses/angular","target","_blank",2,"height","2rem"],["src","./assets/logo-rss.svg","alt","logo",1,"logo"]],template:function(e,n){e&1&&(a(0,"footer",0)(1,"a",1),y(2,"img",2),i(),a(3,"div")(4,"span"),c(5,"2025"),i(),a(6,"span"),c(7),i()(),a(8,"a",3),y(9,"img",4),i()()),e&2&&(r(7),f(" v.",n.version))},styles:[".footer[_ngcontent-%COMP%]{height:2.5rem;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;box-sizing:border-box;color:var(--color100)}.logo[_ngcontent-%COMP%]{box-sizing:border-box;width:2rem;height:2rem;border-radius:50%;border:var(--border-thickness) solid var(--color30);transition:border-color .25s linear,background-color .25s linear}.logo[_ngcontent-%COMP%]:hover{border-color:var(--color-accent60);background-color:var(--color-accent50a)}.github[_ngcontent-%COMP%]{filter:invert(var(--color-scheme))}"]})};var ke=(t,o)=>o.id;function xe(t,o){if(t&1&&(a(0,"div",2)(1,"div",3),c(2),i(),c(3),i()),t&2){let e=o.$implicit;C("hidden",e.hidden),r(),ee("background-color",e.mode==="error"?"gray":null),r(),f(" ",e.mode==="error"?"\u274C":"\u2714"," "),r(),f(" ",e.content," ")}}var G=class t{messageService=l(pe);displayedMessages=this.messageService.messages;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-message"]],decls:3,vars:0,consts:[[1,"messages"],[1,"messages__item",3,"hidden"],[1,"messages__item"],[1,"messages__item_icon"]],template:function(e,n){e&1&&(a(0,"div",0),b(1,xe,4,6,"div",1,ke),i()),e&2&&(r(),_(n.displayedMessages()))},styles:[".messages[_ngcontent-%COMP%]{position:fixed;z-index:1000;top:3.5rem;right:0;bottom:3.5rem;left:0;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end;row-gap:4px;overflow:hidden;pointer-events:none}.messages__item[_ngcontent-%COMP%]{position:relative;min-width:10rem;max-width:400px;padding:1rem;background-color:var(--color20);box-shadow:1px 1px 4px #0008;line-height:1.2;display:flex;column-gap:.5rem;animation:_ngcontent-%COMP%_fadein .5s forwards}.messages__item.hidden[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeout .5s forwards}.messages__item_icon[_ngcontent-%COMP%]{display:flex;width:20px;height:20px;flex-shrink:0;align-items:center;justify-content:center;border-radius:50%;color:#fff;background-color:green;font-size:12px}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeout{to{opacity:0;transform:translate(100%)}}"]})};var z=class t{title=v("genesis-lab");userService;constructor(){this.userService=new k,this.userService.requestUser()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"main"],[1,"backdrop"]],template:function(e,n){e&1&&(p(0,"app-header"),m(1,"main",0),p(2,"router-outlet"),u(),p(3,"app-footer")(4,"div",1)(5,"app-message")(6,"app-modal"))},dependencies:[se,j,F,G,ge],styles:[".main[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin:0}"]})};ne(z,fe).catch(t=>console.error(t));
